# 상태 패턴(Statement Pattern)
객체의 내부 상태에 따라 스스로 행동을 변경할 수 있게 허가하는 패턴이다.

객체가 마치 자신의 클래스를 바꾸는 것 처럼 보이게 된다.

상태 패턴의 목표는 같은 상태에 대한 모든 동작과 제이터를 클래스 하나에 캡슐화하는 것이다.



### 유한 상태 기계(FSM, Finite State Machine)

#### 특징
1. 가질 수 있는 상태가 한정된다.
2. 한 번에 한가지 상태만 될수 있다.
3. 입력이나 이벤트가 기계에 전달된다.
4. 각 상태에는 입력에 따라 다음 상태로 바뀌는 전이(Transistion)이 있다.

#### 장점
엄격하게 제한된 구조를 강제함으로써 복잡한 코드를 정리할 수 있다.

#### 단점
미리 정해놓은 여러 상태와 현재 상태 하나를 하드코딩을 전이한다.

### 병행 상태 기계
여러 개의 상태 머신을 사용한다.

#### 특징
독립된 개념을 상태로 두어 상태가 복잡해지는 것을 방지한다.

#### 장점
가능한 조합의 모델링에 대한 상태를 다 만들 필요가 없다.

#### 단점
코드가 복잡해질 수 있고, 커플링이 발생할 수 있다.

### 계층형 상태 기계(Hierarchical state Machine)
상태 클래스를 상속받아 고유 동작을 추가한다.

상위 상태(Superstate)와 하위 상태(Substate)로 구분하여 이벤트가 들어올 때 하위 상태에서 처리하지 않으면 상위 상태로 넘어간다.

### 푸시다운 오토마타(pushdown Auotomata)
FSM이 한 개의 상태를 포인터로 관리한다면, 푸시다운 오토마타는 상태를 스택으로 관리한다.

FSM이 새로운 상태로 전이하는 방식이라면 푸시다운 오토마타는 이외의 부가적인 명령 두 가지가 더 존재한다. <br/>
1. 새로운 상태를 스텍에 넣는다. (push) -> 최상위가 현재 상태이기 때문에 새로 추가되면 새로운 현재 상태가 된다. 하지만, 이전 상태는 제거하지 않고 최신 상태 밑에 존재한다.
2. 최상의 상태를 스택에서 뺀다. (pop) -> 빠진 상태는 제거되고 바로 밑에 있던 상태가 새로운 현재 상태가 된다.
